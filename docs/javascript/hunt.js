window.onload=e=>{console.log("load hunt.js");try{const e=sessionStorage.getItem("user");if(!e)return void(window.location.href="../html/login.html");const t=JSON.parse(e);t?(document.getElementById("authname").innerText=`Welcome ${t.name}`,console.log(`Welcomeeee ${t.name}`)):window.location.href="../html/login.html"}catch(e){console.error("error",e)}var t=document.getElementById("regionDropdown"),n=document.getElementById("regionButton"),o=(document.getElementsByClassName("regionOption"),document.getElementById("overlay")),l=document.getElementById("huntButton"),c=document.getElementById("huntOverlay"),i=document.querySelector(".carousel").getElementsByClassName("slide"),s=0,a=document.getElementById("previousWeapon"),r=document.getElementById("nextWeapon"),d=document.querySelector(".carouselNumber");function m(e){for(var t=0;t<i.length;t++)i[t].classList.remove("activeWeapon");console.log("showing"),i[e].classList.add("activeWeapon"),d.textContent=e+1+"/"+i.length}document.addEventListener("click",(function(e){if(e.target===n&&(t.style.display="block"),e.target.classList.contains("regionOption")){var o=e.target.textContent;n.textContent=o,t.style.display="none"}})),document.addEventListener("click",(function(e){e.target!==n&&(t.style.display="none")})),document.addEventListener("click",(function(e){e.target===l&&(o.style.display="block",console.log("open overlay"))})),document.addEventListener("click",(function(e){e.target!=o||c.contains(e.target)||(o.style.display="none",console.log("close overlay"))})),a.addEventListener("click",(function(){--s<0&&(s=i.length-1),m(s)})),r.addEventListener("click",(function(){++s>=i.length&&(s=0),m(s)}));var u=document.querySelectorAll(".rankIcon");u.forEach((function(e,t){e.addEventListener("click",(function(){u.forEach((function(e,n){e.src=n<=t?"../icons/star-full.png":"../icons/star-empty.png"}))}))})),document.getElementById("logoutButton").addEventListener("click",(function(){sessionStorage.removeItem("user"),window.location.assign("../html/login.html")}))};