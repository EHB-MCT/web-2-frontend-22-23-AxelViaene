window.onload=e=>{const n=sessionStorage.getItem("user"),t=JSON.parse(n);try{if(!n)return void(window.location.href="../html/login.html");t?(document.getElementById("authname").innerText=`Welcome ${t.name}`,console.log(`Welcome ${t.name}`)):window.location.href="../html/login.html"}catch(e){console.error("error",e)}const s=t.UserId;fetch("https://web2-course-project.onrender.com/user_greatswords").then((e=>e.json())).then((e=>{var n=e.filter((function(e){return e.UserId===s})).map((function(e){return e.GreatswordId})),t=1;n.forEach((function(e){fetch(`https://mhw-db.com/weapons/${e}`).then((e=>e.json())).then((e=>{console.log(e);const n=Object.keys(e.elements).length;let s=`<div class="greatsword gs${t}">\n                <div class="gsInternal">\n                    <div class="gsTop">\n                        <button class="close-button btn${t}">\n                            <span class="close-icon">&times;</span>\n                        </button>\n                        <p class="gsName">${e.name}\n                        <p>\n                    </div>\n                    <img class="gsIcon" src="../icons/greatswords/Greatsword${e.rarity}.png" alt="">\n                    <div class="gsStatsLeft">\n                        <p>Rarity:${e.rarity}</p>\n                        <p>Element:</p>\n                    </div>\n                    <div class="gsStatsRight">\n                        <p class="gsAttack">Attack: ${e.attack.display}</p>\n                        <div class="element">\n                            <p class="gsElementDamage"></p>`;s+=1===n?`<p class="gsElementDamage">${e.elements[0].damage}</p>\n                                <img class="gsElement" src="../icons/elements/water.png" alt="">`:'<p class="gsElementDamage">0</p>',s+="</div>\n                            </div>\n                        </div>\n                    </div>";var o=document.createElement("div");o.className=`greatsword gs${t}`,o.innerHTML=s,document.getElementById("main").appendChild(o),o.getElementsByClassName(`btn${t}`)[0].addEventListener("click",(function(){confirm("Are you sure you want to remove this weapon from your collection?")?console.log("link"):console.log("link22")})),t++}))}))}))};