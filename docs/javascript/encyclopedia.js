window.onload=e=>{console.log("load encycopedia.js");const n=sessionStorage.getItem("user"),t=JSON.parse(n);try{if(!n)return void(window.location.href="../html/login.html");t?(document.getElementById("authname").innerText=`Welcome ${t.name}`,console.log(`Welcomeeee ${t.name}`)):window.location.href="../html/login.html"}catch(e){console.error("error",e)}const o=t.UserId;fetch("https://web2-course-project.onrender.com/hunts").then((e=>e.json())).then((e=>{var n=e.filter((function(e){return e.UserId===o})).map((function(e){return e.MonsterId})),t=new Set(n),r=document.getElementById("main"),s=1;t.forEach((function(e){fetch(`https://mhw-db.com/monsters/${e}`).then((e=>e.json())).then((e=>{let n=`<div class="monster monster${s}">\n            <div class="monsterInternal">\n              <img id="monsterIcon${s}" src="../icons/monsters/${e.name}.png" alt="">\n              <p id="monsterName${s}">${e.name}</p>\n            </div>\n            </div>`;r.insertAdjacentHTML("beforeend",n),s++}))}))}));var r=document.getElementById("overlay"),s=document.querySelectorAll("#monsterName1, #monstername2"),c=document.querySelectorAll("#monsterIcon1, #monsterIcon2");console.log(s),monsterSections.forEach((function(e){e.addEventListener("click",(function(n){var t=n.target;if(t.classList.contains("monsterIcon")||t.classList.contains("monsterName")){var o=e;console.log(o)}}))})),document.addEventListener("click",(function(e){(Array.from(s).some((n=>n===e.target))||Array.from(c).some((n=>n===e.target)))&&(r.style.display="block")})),document.addEventListener("click",(function(e){e.target==r&&(r.style.display="none")}))};