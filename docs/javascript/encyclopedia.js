window.onload=e=>{console.log("load encycopedia.js");const n=sessionStorage.getItem("user"),s=JSON.parse(n);try{if(!n)return void(window.location.href="../html/login.html");s?(document.getElementById("authname").innerText=`Welcome ${s.name}`,console.log(`Welcomeeee ${s.name}`)):window.location.href="../html/login.html"}catch(e){console.error("error",e)}const o=s.UserId;fetch("https://web2-course-project.onrender.com/hunts").then((e=>e.json())).then((e=>{var n=e.filter((function(e){return e.UserId===o})).map((function(e){return e.MonsterId})),s=new Set(n);console.log(s);var t=document.getElementById("main"),r=document.getElementById("overlay"),a=1;s.forEach((function(e){fetch(`https://mhw-db.com/monsters/${e}`).then((e=>e.json())).then((e=>{console.log(e),console.log(e.name);let n=`<div class="monster monster${a}">\n            <div class="monsterInternal">\n              <img class="monsterIcon" src="../icons/monsters/${e.name}.png" alt="">\n              <p class="monsterName" id="monstername${a}">${e.name}</p>\n            </div>\n            </div>`,s=`<div id="monster_page${a}">\n            <div class="overlay_left">\n              <p class="overlay_monster_species">Flying Wyvern</p>\n              <p class="overlay_monster_name">${e.name}</p>\n              <img class="overlay_img" src="../icons/monsters/Behemoth.png" alt="">\n            </div>\n            <div class="overlay_right">\n              <p class="overlay_known_regions">Known Regions</p>\n              <p class="overlay_regions">Ancient Forest</p>\n              <p class="overlay_regions">Ancient Forest</p>\n              <p class="overlay_regions">Ancient Forest</p>\n              <p class="overlay_regions">Ancient Forest</p>\n              <p class="overlay_regions">Ancient Forest</p>\n              <p class="overlay_characteristics">Characteristics</p>\n              <p class="overlay_description">A nefarious flying wyvern that travels the New World in search of prey. It\n                scatters explosive scales over a wide area to prey on whatever gets caught in the blast.</p>\n              <div class="overlay_weaknesses">\n                <p>Weaknesses</p>\n                <img class="overlay_weaknesses_icon" src="../icons/elements/Dragon.png" alt="">\n                <img class="overlay_weaknesses_icon" src="../icons/elements/Poison.png" alt="">\n                <img class="overlay_weaknesses_icon" src="../icons/elements/Water.png" alt="">\n              </div>\n              <div class="overlay_resistances">\n                <p>Resistances</p>\n                <img class="overlay_resistances_icon" src="../icons/elements/Fire.png" alt="">\n              </div>\n            </div>\n          </div>`;t.insertAdjacentHTML("beforeend",n),r.insertAdjacentHTML("beforeend",s),a++}))}))}));var t=document.getElementById("overlay"),r=document.getElementsByClassName("monsterName"),a=document.getElementsByClassName("monsterIcon");document.addEventListener("click",(function(e){(Array.from(r).some((n=>n===e.target))||Array.from(a).some((n=>n===e.target)))&&(t.style.display="block")})),document.addEventListener("click",(function(e){e.target==t&&(t.style.display="none")}))};